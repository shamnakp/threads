<%- include('../layout/header.ejs') %>

<main class="main">
  <div class="page-header breadcrumb-wrap">
    <div class="container">
      <div class="breadcrumb">
        <a href="/api" rel="nofollow">Home</a>
        <span></span>Login
      </div>
    </div>
  </div>
  <section class="pt-150 pb-150 pd-1">
    <div class="container">
      <div class="row">
        <div class="col-lg-10 m-auto">
          <div class="row">
            <div class="col-lg-5">
              <div
                class="login_wrap widget-taber-content p-30 background-white border-radius-10 mb-md-5 mb-lg-0 mb-sm-5"
              >
                <div class="padding_eight_all bg-white">
                  <div class="heading_s1">
                    <h3 class="mb-30">Login</h3>
                  </div>
                  <form
                    name="loginForm"
                    action="/api/login"
                    method="post"
                    onsubmit="return validateLoginForm()"
                  >
                    <div class="form-group">
                      <input
                        type="text"
                        name="email"
                        placeholder="Your Email"
                      />
                      <p id="emailError" style="color: red"></p>
                    </div>
                    <div class="form-group">
                      <input
                        type="password"
                        name="password"
                        placeholder="Password"
                      />
                      <p id="passwordError" style="color: red"></p>
                    </div>
                    <div class="login_footer form-group">
                      <div class="chek-form">
                        <div class="custome-checkbox">
                          <input
                            class="form-check-input"
                            type="checkbox"
                            name="checkbox"
                            id="exampleCheckbox1"
                            value=""
                          />
                          <label class="form-check-label" for="exampleCheckbox1"
                            ><span>Remember me</span></label
                          >
                        </div>
                      </div>
                      <a class="text-muted" href="/api/forgotPassword"
                        >Forgot password?</a
                      >
                    </div>
                    <div class="form-group">
                      <button
                        type="submit"
                        class="btn btn-fill-out btn-block hover-up"
                        name="login"
                      >
                        Log in
                      </button>
                    </div>
                    <div>
                      New to Cyclo?
                      <span style="color: rgb(18, 90, 106); font-weight: bolder"
                        ><a href="/api/register">CREATE AN ACCOUNT</a></span
                      >
                    </div>
                    <% if(typeof message !== 'undefined'){ %>
                    <p style="color: rgb(250, 3, 3)"><%= message %></p>
                    <% } %>
                  </form>
                </div>
              </div>
            </div>
            <div class="col-lg-1"></div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
<script>
  // Function to validate the login form
  function validateLoginForm() {
    var email = document.forms["loginForm"]["email"].value;
    var password = document.forms["loginForm"]["password"].value;

    // Check if email is filled out
    if (email.trim() === "") {
      document.getElementById("emailError").innerText =
        "Please Enter A Valid Email.";
      return false;
    } else {
      document.getElementById("emailError").innerText = "";
    }

    // Check if password is filled out
    if (password.trim() === "") {
      document.getElementById("passwordError").innerText =
        "Please enter a password.";
      return false;
    } else {
      document.getElementById("passwordError").innerText = "";
    }

    // All validations passed, form can be submitted
    return true;
  }
</script>

<%- include('../layout/footer.ejs' )%>
